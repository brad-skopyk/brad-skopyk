<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title></title>
  <style type="text/css">
    #viewDiv {
      position: relative;
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }

    #timeSliderDiv {
      width: 300px;
    }

    #titleDiv {
      padding: 10px;
      font-weight: 36;
      text-align: center;
      max-width: 300px;
    }
  </style>
  <link href="https://js.arcgis.com/4.24/esri/themes/light/main.css" rel="stylesheet" />
  <script src="https://js.arcgis.com/4.24/"></script>
</head>

<body>

  <script>
    require(["esri/views/MapView", "esri/WebMap", "esri/config", "esri/widgets/TimeSlider"], (MapView, WebMap, esriConfig, TimeSlider) => {

      esriConfig.portalUrl = "https://elcamaleon.binghamton.edu/portal";
      const webmap = new WebMap({
        portalItem: {
          id: "e26c9ac0c41a4df19fb8e6ddf321dd2b"
        }
      });

      const view = new MapView({
        map: webmap,
        container: "viewDiv"
      });

      // get timeslider settings from the webmap & create timeslider, add it to the view UI
      TimeSlider.getPropertiesFromWebMap(webmap).then(
        (timeSliderSettings) => {
          const timeSliderDiv = document.createElement("div");
          timeSliderDiv.id = "timeSliderDiv";

          const timeSlider = new TimeSlider({
            ...timeSliderSettings, // imported settings from webmap
            view: view,
            container: timeSliderDiv
          });
          view.ui.add(timeSlider, "bottom-left");
        }
      );

      view.ui.add("titleDiv", "top-right");

    });
  </script>
  <div id="viewDiv">&nbsp;</div>

  <div id="timeSlider">&nbsp;</div>
</body>

</html>